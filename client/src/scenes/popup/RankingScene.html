<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Ranking Scene (CDN JS Demo)</title>
    <style>
      /* ìµœì†Œ ìŠ¤íƒ€ì¼ - Tailwindë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” í™˜ê²½ì„ ìœ„í•´ ê°„ë‹¨í•˜ê²Œ ë§Œë“­ë‹ˆë‹¤. */
      body {
        background: #0f1724;
        color: #e6eef8;
        font-family: Inter, system-ui, -apple-system, Roboto, "Helvetica Neue",
          Arial;
        margin: 0;
        padding: 20px;
      }
      .container {
        max-width: 1100px;
        margin: 0 auto;
      }
      .card {
        background: #1a1d2e;
        border-radius: 12px;
        padding: 16px;
        border: 1px solid rgba(255, 255, 255, 0.06);
      }
      .header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 12px;
        margin-bottom: 16px;
      }
      .left {
        display: flex;
        align-items: center;
        gap: 12px;
      }
      .title {
        font-size: 18px;
        font-weight: 600;
      }
      .tabs {
        display: flex;
        gap: 8px;
      }
      .btn {
        padding: 8px 14px;
        border-radius: 8px;
        background: rgba(255, 255, 255, 0.03);
        border: 1px solid rgba(255, 255, 255, 0.06);
        color: #e6eef8;
        cursor: pointer;
      }
      .btn.active {
        background: linear-gradient(90deg, #bcab48, #ffa500);
        box-shadow: 0 0 24px rgba(168, 85, 247, 0.2);
      }
      .search {
        position: relative;
      }
      .search input {
        padding: 10px 12px 10px 36px;
        border-radius: 8px;
        background: rgba(255, 255, 255, 0.03);
        color: inherit;
        border: 1px solid rgba(255, 255, 255, 0.06);
      }
      .search .icon {
        position: absolute;
        left: 10px;
        top: 50%;
        transform: translateY(-50%);
      }
      .table {
        margin-top: 12px;
        border-radius: 10px;
        overflow: hidden;
      }
      .table .row {
        display: grid;
        grid-template-columns: 80px 1fr 120px 150px;
        gap: 12px;
        padding: 12px 16px;
        align-items: center;
      }
      .table .headerRow {
        background: rgba(255, 255, 255, 0.03);
        color: #9aa3b2;
        font-size: 13px;
      }
      .table .odd {
        background: rgba(255, 255, 255, 0.01);
      }
      .badge {
        width: 40px;
        height: 40px;
        border-radius: 8px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
      }
      .rankNum {
        font-size: 16px;
        font-weight: 600;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div id="root"></div>
    </div>

    <!-- React & ReactDOM (UMD builds) -->
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <!-- Babel (in-browser JSX transpile for demo) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <!-- Demo: RankingScene converted from TSX -> JS (JSX) for CDN usage -->
    <script type="text/babel">
      const { useState } = React;

      function RankingScene({ onNavigate }) {
        const [activeTab, setActiveTab] = useState("all");
        const [searchTerm, setSearchTerm] = useState("");

        const rankings = [
          {
            rank: 1,
            userId: "user1",
            nickname: "ZombieSlayer",
            maxStage: 87,
            playTime: 14523,
            avatar: "ğŸ‘‘",
          },
          {
            rank: 2,
            userId: "user2",
            nickname: "SurvivalKing",
            maxStage: 76,
            playTime: 12845,
            avatar: "âš”ï¸",
          },
          {
            rank: 3,
            userId: "user3",
            nickname: "DeadHunter",
            maxStage: 71,
            playTime: 11234,
            avatar: "ğŸ¹",
          },
          {
            rank: 4,
            userId: "user4",
            nickname: "NightWalker",
            maxStage: 65,
            playTime: 9876,
            avatar: "ğŸŒ™",
          },
          {
            rank: 5,
            userId: "user5",
            nickname: "Warrior2024",
            maxStage: 58,
            playTime: 8654,
            avatar: "ğŸ›¡ï¸",
          },
          {
            rank: 6,
            userId: "user6",
            nickname: "FastRunner",
            maxStage: 52,
            playTime: 7234,
            avatar: "âš¡",
          },
          {
            rank: 7,
            userId: "user7",
            nickname: "BraveSoul",
            maxStage: 48,
            playTime: 6543,
            avatar: "ğŸ’ª",
          },
          {
            rank: 8,
            userId: "user8",
            nickname: "GhostKiller",
            maxStage: 45,
            playTime: 5987,
            avatar: "ğŸ‘»",
          },
          {
            rank: 9,
            userId: "user9",
            nickname: "GhostKillr",
            maxStage: 45,
            playTime: 5987,
            avatar: "ğŸ‘»",
          },
          {
            rank: 10,
            userId: "user10",
            nickname: "GhostKiller",
            maxStage: 45,
            playTime: 5987,
            avatar: "ğŸ‘»",
          },
        ];

        const formatTime = (seconds) => {
          const hours = Math.floor(seconds / 3600);
          const mins = Math.floor((seconds % 3600) / 60);
          return `${hours}h ${mins}m`;
        };

        const getRankBadge = (rank) => {
          if (rank === 1)
            return { icon: "1", color: "#ffd700", bg: "rgba(255,215,0,0.12)" };
          if (rank === 2)
            return {
              icon: "2",
              color: "#c0c0c0",
              bg: "rgba(192,192,192,0.12)",
            };
          if (rank === 3)
            return {
              icon: "3",
              color: "#cd7f32",
              bg: "rgba(205,127,50,0.12)",
            };
          return { icon: null, color: "#999999", bg: "transparent" };
        };

        const filtered = rankings.filter((r) =>
          r.nickname.toLowerCase().includes(searchTerm.toLowerCase())
        );

        return (
          <div className="card">
            <div className="header">
              <div className="left">
                <img
                  src="/assets/icons/ranking_icon.png"
                  alt="ë­í‚¹ ì•„ì´ì½˜"
                  style={{
                    width: 18,
                    height: 18,
                  }}
                />
                <div className="title">ë­í‚¹</div>
              </div>
              <div style={{ display: "flex", gap: 12, alignItems: "center" }}>
                <div className="tabs">
                  <button
                    className={"btn " + (activeTab === "all" ? "active" : "")}
                    onClick={() => setActiveTab("all")}
                  >
                    ì „ì²´ ë­í‚¹
                  </button>
                  <button
                    className={
                      "btn " + (activeTab === "weekly" ? "active" : "")
                    }
                    onClick={() => setActiveTab("weekly")}
                  >
                    ì£¼ê°„ ë­í‚¹
                  </button>
                </div>
                <div className="search">
                  <span className="icon">ğŸ”</span>
                  <input
                    placeholder="ë‹‰ë„¤ì„ ê²€ìƒ‰..."
                    value={searchTerm}
                    onChange={(e) => setSearchTerm(e.target.value)}
                  />
                </div>
                <button
                  className="btn"
                  onClick={() => {
                    window.parent.document.getElementById(
                      "react-ui"
                    ).style.display = "none";
                  }}
                >
                  ë‹«ê¸°
                </button>
              </div>
            </div>

            <div style={{ marginTop: 12 }}>
              <div
                className="card"
                style={{ marginBottom: 12, border: "1px solid #ffa500" }}
              >
                <div
                  style={{
                    display: "flex",
                    justifyContent: "space-between",
                    alignItems: "center",
                  }}
                >
                  <div>
                    <div
                      style={{
                        fontSize: 13,
                        color: "#9aa3b2",
                        marginBottom: 6,
                      }}
                    >
                      ë‚´ ë­í‚¹
                    </div>
                    <div style={{ fontSize: 16, marginTop: 4 }}>
                      CurrentPlayer
                    </div>
                  </div>
                  <div style={{ display: "flex", gap: 70 }}>
                    <div
                      style={{
                        display: "flex",
                        flexDirection: "column",
                        alignItems: "center",
                      }}
                    >
                      <div
                        style={{
                          fontSize: 13,
                          color: "#9aa3b2",
                          marginBottom: 6,
                          textAlign: "center",
                        }}
                      >
                        ìˆœìœ„
                      </div>
                      <div
                        style={{
                          fontSize: 18,
                          color: "#ffffff",
                          marginTop: 4,
                          textAlign: "center",
                        }}
                      >
                        #42
                      </div>
                    </div>
                    <div
                      style={{
                        display: "flex",
                        flexDirection: "column",
                        alignItems: "center",
                      }}
                    >
                      <div
                        style={{
                          fontSize: 13,
                          color: "#9aa3b2",
                          marginBottom: 6,
                          textAlign: "center",
                        }}
                      >
                        ìµœê³  ìŠ¤í…Œì´ì§€
                      </div>
                      <div
                        style={{
                          fontSize: 18,
                          color: "#ffb347",
                          marginTop: 4,
                          textAlign: "center",
                        }}
                      >
                        32
                      </div>
                    </div>
                    <div
                      style={{
                        display: "flex",
                        flexDirection: "column",
                        alignItems: "center",
                      }}
                    >
                      <div
                        style={{
                          fontSize: 13,
                          color: "#9aa3b2",
                          marginBottom: 6,
                          textAlign: "center",
                        }}
                      >
                        í”Œë ˆì´ íƒ€ì„
                      </div>
                      <div
                        style={{
                          fontSize: 18,
                          color: "#4ea8de",
                          marginTop: 4,
                          textAlign: "center",
                        }}
                      >
                        5h 23m
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div className="table card" style={{ padding: 0 }}>
                <div className="row headerRow">
                  <div style={{ marginLeft: 5 }}>Rank</div>
                  <div style={{ textAlign: "left", paddingLeft: 30 }}>
                    Player
                  </div>
                  <div style={{ textAlign: "center" }}>Max Stage</div>
                  <div style={{ textAlign: "center" }}>Play Time</div>
                </div>

                {filtered.map((p, i) => {
                  const badge = getRankBadge(p.rank);
                  return (
                    <div
                      key={p.userId}
                      className={"row " + (i % 2 ? "odd" : "")}
                    >
                      <div
                        style={{
                          display: "flex",
                          alignItems: "center",
                          gap: 8,
                        }}
                      >
                        <div
                          className="badge"
                          style={{ background: badge.bg, color: badge.color }}
                        >
                          {badge.icon || (
                            <span className="rankNum">{p.rank}</span>
                          )}
                        </div>
                      </div>
                      <div
                        style={{
                          display: "flex",
                          alignItems: "center",
                          justifyContent: "flex-start",
                          textAlign: "left",
                          paddingLeft: 6,
                        }}
                      >
                        <span>{p.nickname}</span>
                      </div>
                      <div
                        style={{
                          display: "flex",
                          alignItems: "center",
                          justifyContent: "center",
                        }}
                      >
                        <span style={{ color: "#ffb347" }}>{p.maxStage}</span>
                      </div>
                      <div
                        style={{
                          display: "flex",
                          alignItems: "center",
                          justifyContent: "center",
                        }}
                      >
                        <span style={{ color: "#4ea8de" }}>
                          {formatTime(p.playTime)}
                        </span>
                      </div>
                    </div>
                  );
                })}
              </div>
            </div>
          </div>
        );
      }

      // ì˜ˆì‹œ ë Œë”ë§: rootì— ë¶™ì´ê¸°
      ReactDOM.createRoot(document.getElementById("root")).render(
        React.createElement(RankingScene, {
          onNavigate: (scene) => {
            console.log("navigate to", scene);
          },
        })
      );
    </script>
  </body>
</html>
